
<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>Buat dina</title>
    <meta name="language" content="zh-CN">
    <meta name="github" content="https://github.com/sun0225SUN/Awesome-Love-Code">
    <meta name="describe" content="收集不易，您的star是我坚持的动力，同时也欢迎各位PR哦! ">
    <link rel="icon" type="image/x-icon"
        href="https://cdn.jsdelivr.net/gh/sun0225SUN/photos/img/20210715233345.png">

    <style>
        html, body {
            margin: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
        }

        canvas {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .namebox {
            color: #ff5ba5;
            position: absolute;
            z-index: 9999;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            transition: 1s;
        }

        .namebox h1 {
            margin: 0;
            font-family: 'Comic Sans MS', cursive;
        }

        /* FOTO */
        #photo-love {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 170px;
            height: 230px;
            border-radius: 18px;
            overflow: hidden;
            z-index: 99999;
            box-shadow: 0 0 20px rgba(255,91,165,.6);
            pointer-events: none;
        }

        #photo-love img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* PLAY BUTTON */
        #playMusicBtn {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 100000;
            padding: 14px 26px;
            background: rgba(0,0,0,.6);
            color: #ff5ba5;
            border-radius: 30px;
            font-size: 18px;
            cursor: pointer;
            font-family: Arial;
        }
    </style>
</head>

<body>

    <!-- ===== STRUKTUR ASLI (WAJIB TETAP) ===== -->
    <canvas id="canvas-matrix" style="z-index:8888"></canvas>
    <canvas class="canvas" style="z-index:9999"></canvas>

    <div class="overlay">
        <div class="tabs">
            <div class="tabs-labels">
                <span class="tabs-label">Commands</span>
                <span class="tabs-label">Info</span>
                <span class="tabs-label">Share</span>
            </div>
            <div class="tabs-panels">
                <ul class="tabs-panel commands"></ul>
            </div>
        </div>
    </div>

    <canvas id="pinkboard" style="z-index:8888"></canvas>

    <!-- SCRIPT ASLI -->
    <script src="js/index.js"></script>
    <script src="js/heart.js"></script>
    <script src="js/matrix.js"></script>

    <div class="namebox" style="opacity:0;">
        <h1>Lovyou Dina </h1>
    </div>

    <!-- ===== TAMBAHAN ===== -->

    <!-- FOTO -->
    <div id="photo-love">
        <img src="dina.jpg">
    </div>

    <!-- AUDIO -->
    <audio id="bgm" loop playsinline>
        <source src="love.mp3" type="audio/mpeg">
    </audio>

    <!-- PLAY -->
    <div id="playMusicBtn">❤️ Tap untuk mulai ❤️</div>

    <!-- LOVE CANVAS -->
    <canvas id="loveCanvas" style="z-index:99998"></canvas>

    <script>
        /* ===== MUSIC FIX ===== */
        const music = document.getElementById("bgm");
        const playBtn = document.getElementById("playMusicBtn");

        playBtn.addEventListener("click", () => {
            music.volume = 0.8;
            const p = music.play();
            if (p !== undefined) {
                p.then(() => {
                    playBtn.style.display = "none";
                }).catch(err => console.log(err));
            }
        });

        /* ===== LOVE CANVAS ===== */
        const c = document.getElementById("loveCanvas");
        const ctx = c.getContext("2d");

        function resize() {
            c.width = innerWidth;
            c.height = innerHeight;
        }
        resize();
        window.addEventListener("resize", resize);

        const hearts = [];

        setInterval(() => {
            const p = document.getElementById("photo-love").getBoundingClientRect();
            hearts.push({
                x: p.left + p.width / 2,
                y: p.top,
                s: Math.random() * 6 + 8,
                a: 1
            });
        }, 450);

        function drawHeart(h) {
            ctx.save();
            ctx.globalAlpha = h.a;
            ctx.fillStyle = "#ff5ba5";
            ctx.beginPath();
            ctx.moveTo(h.x, h.y);
            ctx.bezierCurveTo(h.x - h.s, h.y - h.s, h.x - h.s * 2, h.y + h.s, h.x, h.y + h.s * 2);
            ctx.bezierCurveTo(h.x + h.s * 2, h.y + h.s, h.x + h.s, h.y - h.s, h.x, h.y);
            ctx.fill();
            ctx.restore();
        }

        function animate() {
            ctx.clearRect(0, 0, c.width, c.height);
            for (let i = hearts.length - 1; i >= 0; i--) {
                const h = hearts[i];
                h.y -= 0.7;
                h.a -= 0.005;
                drawHeart(h);
                if (h.a <= 0) hearts.splice(i, 1);
            }
            requestAnimationFrame(animate);
        }
        animate();
    </script>

</body>
</html>
